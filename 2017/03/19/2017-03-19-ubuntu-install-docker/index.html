<!DOCTYPE html><html lang="en-us"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Ubuntu 安装Docker | 彩笔</title><meta name="description"><meta name="generator" content="彩笔"><meta name="author" content="Color Pen"><meta name="keywords"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1,user-scalable=0"><link rel="stylesheet" type="text/css" href="/styles/screen.css"><link rel="apple-touch-icon" sizes="57x57" href="/images/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/images/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/images/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/images/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/images/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/images/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png"><link rel="icon" type="image/png" sizes="128x128" href="/images/favicon-128.png"><link rel="icon" type="image/png" sizes="196x196" href="/images/favicon-196x196.png"><meta name="msapplication-TileColor" content="#FFFFFF"><meta name="msapplication-TileImage" content="mstile-144x144.png"><meta name="msapplication-square70x70logo" content="mstile-70x70.png"><meta name="msapplication-square150x150logo" content="mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="mstile-310x150.png"><meta name="msapplication-square310x310logo" content="mstile-310x310.png"></head><body itemscope itemtype="https://schema.org/WebPage"><header itemscope itemtype="https://schema.org/WPHeader"><div class="logo"></div><h1><a href="/" alt="彩笔" title="彩笔" itemprop="headline">彩笔</a></h1><p itemprop="description">眼中阅尽繁华，心中鲜衣怒马</p><nav itemscope itemtype="https://schema.org/SiteNavigationElement"><ul><li itemprop="name"><a href="/ " alt="home" title="home" itemprop="url">home</a></li><li itemprop="name"><a href="/articles" alt="articles" title="articles" itemprop="url">articles</a></li><li itemprop="name"><a href="/author" alt="author" title="author" itemprop="url">author</a></li></ul></nav><div class="space"></div></header><main itemscope itemtype="https://schema.org/Blog"><article class="full"><h1 itemprop="headline" class="post-heading">Ubuntu 安装Docker</h1><span class="page-tag-anchor"><a href="/tags/linux" itemprop="url">#linux
&nbsp;&nbsp;</a></span><span class="post-meta"></span><br><br><h2 id="一、docker安装"><a href="#一、docker安装" class="headerlink" title="一、docker安装"></a>一、docker安装</h2><h3 id="1、卸载旧版本docker"><a href="#1、卸载旧版本docker" class="headerlink" title="1、卸载旧版本docker"></a>1、卸载旧版本docker</h3><p>全新安装时，无需执行该步骤</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get remove docker docker-engine docker.io</span><br></pre></td></tr></table></figure>

<h3 id="2、更新系统软件"><a href="#2、更新系统软件" class="headerlink" title="2、更新系统软件"></a>2、更新系统软件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get update</span><br></pre></td></tr></table></figure>

<h3 id="3、安装依赖包"><a href="#3、安装依赖包" class="headerlink" title="3、安装依赖包"></a>3、安装依赖包</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install \</span><br><span class="line">    apt-transport-https \</span><br><span class="line">    ca-certificates \</span><br><span class="line">    curl \</span><br><span class="line">    software-properties-common</span><br></pre></td></tr></table></figure>

<h3 id="4、添加官方密钥"><a href="#4、添加官方密钥" class="headerlink" title="4、添加官方密钥"></a>4、添加官方密钥</h3><p>执行该命令时，如遇到长时间没有响应说明网络连接不到docker网站，需要使用代-理进行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span><br></pre></td></tr></table></figure>

<p>显示OK,表示添加成功.</p>
<h3 id="5、添加仓库"><a href="#5、添加仓库" class="headerlink" title="5、添加仓库"></a>5、添加仓库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot;</span><br></pre></td></tr></table></figure>

<p>如果使用ARM架构，如Apple Mac M1 chip电脑的虚拟机：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo add-apt-repository &quot;deb [arch=arm64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot;</span><br></pre></td></tr></table></figure>

<h3 id="6、再次更新软件"><a href="#6、再次更新软件" class="headerlink" title="6、再次更新软件"></a>6、再次更新软件</h3><p>经实践，这一步不能够省略，我们需要再次把软件更新到最新，否则下一步有可能会报错。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get update</span><br></pre></td></tr></table></figure>

<h3 id="7、安装docker"><a href="#7、安装docker" class="headerlink" title="7、安装docker"></a>7、安装docker</h3><p>如果想指定安装某一版本，可使用 <code>sudo apt-get install docker-ce=&lt;VERSION&gt;</code>  命令，把<VERSION>替换为具体版本即可。</p>
<p>以下命令没有指定版本，默认就会安装最新版</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install docker-ce</span><br></pre></td></tr></table></figure>

<h3 id="8、查看docker版本"><a href="#8、查看docker版本" class="headerlink" title="8、查看docker版本"></a>8、查看docker版本</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker -v</span><br></pre></td></tr></table></figure>

<p>显示“Docker version 17.09.0-ce, build afdb6d4”字样，表示安装成功。</p>
<h2 id="二、docker-compose安装"><a href="#二、docker-compose安装" class="headerlink" title="二、docker-compose安装"></a>二、docker-compose安装</h2><h3 id="1、下载docker-compose"><a href="#1、下载docker-compose" class="headerlink" title="1、下载docker-compose"></a>1、下载docker-compose</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo curl -L https://github.com/docker/compose/releases/1.17.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure>

<h3 id="2、授权"><a href="#2、授权" class="headerlink" title="2、授权"></a>2、授权</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo chmod +x /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure>

<h3 id="3、查看版本信息"><a href="#3、查看版本信息" class="headerlink" title="3、查看版本信息"></a>3、查看版本信息</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker-compose --version</span><br></pre></td></tr></table></figure>

<p>显示出版本信息，即安装成功。</p>
<h2 id="三、docker-machine安装"><a href="#三、docker-machine安装" class="headerlink" title="三、docker-machine安装"></a>三、docker-machine安装</h2><p>说明：docker-machine的使用是要基于virtualBox的。如果没有安装安装过，请先安装virtualBox。</p>
<h3 id="1、安装virtualBox"><a href="#1、安装virtualBox" class="headerlink" title="1、安装virtualBox"></a>1、安装virtualBox</h3><p>登录virtualBox官网：<a target="_blank" rel="noopener" href="https://www.virtualbox.org/wiki/Linux_Downloads">https://www.virtualbox.org/wiki/Linux_Downloads</a></p>
<p>找到”Ubuntu 16.04 (“Xenial”)  i386 |  AMD64”字样，点击“AMD64”进行下载。</p>
<p>下载后，执行以下命令进行安装：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dpkg -i virtualbox-5.2_5.2.0-118431_Ubuntu_xenial_amd64.deb</span><br></pre></td></tr></table></figure>

<h3 id="2、下载并安装docker-machine"><a href="#2、下载并安装docker-machine" class="headerlink" title="2、下载并安装docker-machine"></a>2、下载并安装docker-machine</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl -L https://github.com/docker/machine/releases/v0.13.0/docker-machine-`uname -s`-`uname -m` &gt;/tmp/docker-machine &amp;&amp;</span><br><span class="line">chmod +x /tmp/docker-machine &amp;&amp;</span><br><span class="line">sudo cp /tmp/docker-machine /usr/local/bin/docker-machine</span><br></pre></td></tr></table></figure>

<h3 id="3、查看版本信息-1"><a href="#3、查看版本信息-1" class="headerlink" title="3、查看版本信息"></a>3、查看版本信息</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker-machine version</span><br></pre></td></tr></table></figure>

<p>显示出版本信息，即安装成功。</p>
</article><br><br><span class="next-post"><a href="/2017/02/03/2017-02-03-git-tips/" itemprop="url">Older Post ⇒</a></span><br><br><br></main></body></html>