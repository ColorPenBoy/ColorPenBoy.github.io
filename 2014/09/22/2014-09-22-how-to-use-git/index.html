<!DOCTYPE html><html lang="en-us"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>如何使用Github进行代码提交？ | 彩笔</title><meta name="description"><meta name="generator" content="彩笔"><meta name="author" content="Color Pen"><meta name="keywords"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1,user-scalable=0"><link rel="stylesheet" type="text/css" href="/styles/screen.css"><link rel="apple-touch-icon" sizes="57x57" href="/images/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/images/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/images/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/images/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/images/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/images/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png"><link rel="icon" type="image/png" sizes="128x128" href="/images/favicon-128.png"><link rel="icon" type="image/png" sizes="196x196" href="/images/favicon-196x196.png"><meta name="msapplication-TileColor" content="#FFFFFF"><meta name="msapplication-TileImage" content="mstile-144x144.png"><meta name="msapplication-square70x70logo" content="mstile-70x70.png"><meta name="msapplication-square150x150logo" content="mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="mstile-310x150.png"><meta name="msapplication-square310x310logo" content="mstile-310x310.png"></head><body itemscope itemtype="https://schema.org/WebPage"><header itemscope itemtype="https://schema.org/WPHeader"><div class="logo"></div><h1><a href="/" alt="彩笔" title="彩笔" itemprop="headline">彩笔</a></h1><p itemprop="description">眼中阅尽繁华，心中鲜衣怒马</p><nav itemscope itemtype="https://schema.org/SiteNavigationElement"><ul><li itemprop="name"><a href="/ " alt="home" title="home" itemprop="url">home</a></li><li itemprop="name"><a href="/articles" alt="articles" title="articles" itemprop="url">articles</a></li><li itemprop="name"><a href="/author" alt="author" title="author" itemprop="url">author</a></li></ul></nav><div class="space"></div></header><main itemscope itemtype="https://schema.org/Blog"><article class="full"><h1 itemprop="headline" class="post-heading">如何使用Github进行代码提交？</h1><span class="page-tag-anchor"><a href="/tags/git、ssh" itemprop="url">#git、ssh
&nbsp;&nbsp;</a></span><span class="post-meta"></span><br><br><p>####使用 Github下载代码</p>
<p>1、找到Github上要下载的代码页面，复制git地址，类似于：<br>    <code>git@github.com:yourgithubaccount/yourproject.git</code></p>
<p>3、到本地要存放代码的目录下，使用如下命令下载代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">git clone git@github.com:yourgithubaccount/yourproject.git</span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line">####创建自己的代码仓库</span><br><span class="line">* 1、先安装git</span><br><span class="line"></span><br><span class="line">[win 下的git安装]( http://help.github.com/win-git-installation/)</span><br><span class="line"></span><br><span class="line">[mac 下的git安装](http://help.github.com/mac-git-installation/)  </span><br><span class="line"></span><br><span class="line">[linux 下的git安装](http://help.github.com/linux-git-installation/)</span><br><span class="line"></span><br><span class="line">* 2、安装完毕后使用你的github帐号进行登录</span><br><span class="line"></span><br><span class="line">* 3、在Github创建一个repository</span><br><span class="line"></span><br><span class="line">* 4、打开Github命令窗口，并cd到你本地电脑的存放代码的目录</span><br><span class="line"></span><br><span class="line">* 5、输入 ```git init``` 进行初始化</span><br><span class="line"></span><br><span class="line">* 6、输入 ```git commit -m &quot;提交备注信息&quot;``` 进行备注本次提交的内容描述</span><br><span class="line"></span><br><span class="line">* 7、输入</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>git remote add origin git@github.com:yourgithubaccount/yourproject.git
git push -u origin master
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">	将提交代码至Github</span><br><span class="line"></span><br><span class="line">#### Git常用命令和使用方法</span><br><span class="line"></span><br><span class="line">* 创建和使用git ssh key</span><br><span class="line"></span><br><span class="line">	首先设置git的user name和email：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
git config --global user.name &quot;yourname&quot;
git config --global user.email &quot;youremail&quot;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 查看git配置：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
git config --list
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 生成SHH密匙：</span><br><span class="line"></span><br><span class="line">	查看是否已经有了ssh密钥：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
cd ~/.ssh    
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">	如果没有密钥则不会有此文件夹，有则备份删除</span><br><span class="line"></span><br><span class="line">* 生成密钥：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
ssh-keygen -t rsa -C &quot;youremail&quot;    
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">	按3个回车，密码为空这里一般不使用密钥。</span><br><span class="line"></span><br><span class="line">	最后得到了两个文件：id_rsa和id_rsa.pub</span><br><span class="line"></span><br><span class="line">	注意：密匙生成就不要改了，如果已经生成到~/.ssh文件夹下去找。</span><br><span class="line"></span><br><span class="line">* git变更项目地址</span><br><span class="line"></span><br></pre></td></tr></table></figure>
git remote set-url origin git@192.168.6.70:res_dev_group/test.git
git remote -v
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 查看某个文件的修改历史</span><br><span class="line"></span><br></pre></td></tr></table></figure>
git log --pretty=oneline 文件名 # 显示修改历史
git show 356f6def9d3fb7f3b9032ff5aa4b9110d4cca87e # 查看更改
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* git push 时报错 warning: push.default is unset;</span><br><span class="line"></span><br><span class="line">‘matching’参数是 Git 1.x 的默认行为，其意是如果你执行 git push 但没有指定分支，它将 push 所有你本地的分支到远程仓库中对应匹配的分支。而 Git 2.x 默认的是 simple，意味着执行 git push 没有指定分支时，只有当前分支会被 push 到你使用 git pull 获取的代码。</span><br><span class="line"></span><br><span class="line">根据提示，修改git push的行为:</span><br><span class="line"></span><br><span class="line">``` objective-c</span><br><span class="line">git config --global push.default matching</span><br></pre></td></tr></table></figure>
</code></pre>
<p>再次执行git push 得到解决。</p>
<ul>
<li><p>git submodule的使用拉子项目代码</p>
<p>  开发过程中，经常会有一些通用的部分希望抽取出来做成一个公共库来提供给别的工程来使用，而公共代码库的版本管理是个麻烦的事情。今天无意中发现了git的git submodule命令，之前的问题迎刃而解了。</p>
</li>
</ul>
<p>1.添加</p>
<p>为当前工程添加submodule，命令如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule add 仓库地址 路径</span><br></pre></td></tr></table></figure>

<p>其中，仓库地址是指子模块仓库地址，路径指将子模块放置在当前工程下的路径。</p>
<p>注意：路径不能以 / 结尾（会造成修改不生效）、不能是现有工程已有的目录（不能順利 Clone）</p>
<p>命令执行完成，会在当前工程根路径下生成一个名为“.gitmodules”的文件，其中记录了子模块的信息。添加完成以后，再将子模块所在的文件夹添加到工程中即可。</p>
<p>2.删除</p>
<p>submodule的删除稍微麻烦点：</p>
<p>首先，要在“.gitmodules”文件中删除相应配置信息。</p>
<p>然后，执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm –cached</span><br></pre></td></tr></table></figure>

<p>命令将子模块所在的文件从git中删除。</p>
<p>下载的工程带有submodule</p>
<p>当使用git clone下来的工程中带有submodule时，初始的时候，submodule的内容并不会自动下载下来的，此时，只需执行如下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule update --init --recursive</span><br></pre></td></tr></table></figure>

<p>即可将子模块内容下载下来后工程才不会缺少相应的文件。</p>
<ul>
<li><p>git add文件取消</p>
<p>  在git的一般使用中，如果发现错误的将不想提交的文件add进入index之后，想回退取消，则可以使用命令：git reset HEAD <file>…，同时git add完毕之后，git也会做相应的提示。</p>
<p>  <a target="_blank" rel="noopener" href="http://blog.csdn.net/yaoming168/article/details/38777763">http://blog.csdn.net/yaoming168/article/details/38777763</a></p>
</li>
</ul>
<ul>
<li><p>git删除文件：</p>
<p>  删除文件跟踪并且删除文件系统中的文件 <code>file1git rm file1</code></p>
<p>  提交刚才的删除动作，之后git不再管理该文件 <code>git commit</code></p>
<p>  删除文件跟踪但不删除文件系统中的文件<code>file1git rm –cached file1</code></p>
<p>  提交刚才的删除动作，之后git不再管理该文件。但是文件系统中还是有<code>file1。git commit</code></p>
</li>
<li><p>版本回退</p>
<p>  版本回退用于线上系统出现问题后恢复旧版本的操作。</p>
<p>  回退到的版本<code>git reset –hard 248cba8e77231601d1189e3576dc096c8986ae5</code></p>
<p>  回退的是所有文件，如果后悔回退可以<code>git pull</code>就可以了。</p>
</li>
<li><p>历史版本对比</p>
<p>  查看日志git log</p>
<p>  查看某一历史版本的提交内容 </p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git show 4ebd4bbc3ed321d01484a4ed206f18ce2ebde5ca</span><br></pre></td></tr></table></figure>
<p>  这里能看到版本的详细修改代码。</p>
<p>  对比不同版本 </p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff c0f28a2ec490236caa13dec0e8ea826583b49b7a 2e476412c34a63b213b735e5a6d90cd05b014c33</span><br></pre></td></tr></table></figure>

<p>  <a target="_blank" rel="noopener" href="http://blog.csdn.net/lxlzhn/article/details/9356473">http://blog.csdn.net/lxlzhn/article/details/9356473</a></p>
</li>
</ul>
<ul>
<li><p>分支的意义与管理</p>
<p>  创建分支可以避免提交代码后对主分支的影响，同时也使你有了相对独立的开发环境。分支具有很重要的意义。</p>
<p>  创建并切换分支，提交代码后才能在其它机器拉分支代码 <code>git checkout -b new_branch</code></p>
<p>  查看当前分支 <code>git branch</code></p>
<p>  切换到master分支 <code>git checkout master</code></p>
<p>  合并分支到当前分支 <code>git merge new_branch</code>，合并分支的操作是从new_branch合并到master分支，当前环境在master分支。</p>
<p>  删除分支<code>git branch -d new_branch</code></p>
</li>
</ul>
<ul>
<li><p>不顺利的代码提交流程</p>
<p>  在 <code>git push</code> 后出现错误可能是因为其他人提交了代码，而使你的本地代码库版本不是最新。</p>
<p>  这时你需要先 <code>git pull</code> 代码后，检查是否有文件冲突。</p>
<p>  没有文件冲突的话需要重新走一遍代码提交流程add —&gt; commit —&gt; push。</p>
<p>  解决文件冲突在后面说。</p>
</li>
<li><p>git顺利的提交代码流程</p>
<p>  查看修改的文件 <code>git status</code></p>
<p>  为了谨慎检查一下代码 <code>git diff</code></p>
<p>  添加修改的文件 <code>git add dirname1/filename1.py dirname2/filenam2.py</code>，新加的文件也是直接add就好了；</p>
<p>  添加修改的日志 <code>git commit -m “fixed:修改了上传文件的逻辑”</code>；</p>
<p>  提交代码 <code>git push</code>，如果提交失败的可能原因是本地代码库版本不是最新。</p>
</li>
<li><p>理解github的pull request</p>
<p>  有一个仓库，叫Repo A。你如果要往里贡献代码，首先要Fork这个Repo，于是在你的Github账号下有了一个Repo A2,。然后你在这个A2下工作，Commit，push等。然后你希望原始仓库Repo A合并你的工作，你可以在Github上发起一个Pull Request，意思是请求Repo A的所有者从你的A2合并分支。如果被审核通过并正式合并，这样你就为项目A做贡献了。</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://zhidao.baidu.com/question/1669154493305991627.html</span><br></pre></td></tr></table></figure></li>
<li><p>一些错误处理</p>
<p>  “pathspec ‘branch’ did not match any file(s) known to git.”错误</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git pull</span><br><span class="line">git checkout new_branch</span><br></pre></td></tr></table></figure>

<p>  使用git提交比较大的文件的时候可能会出现这个错误</p>
<p>  error: RPC failed; result=22, HTTP code = 411</p>
<p>  fatal: The remote end hung up unexpectedly</p>
<p>  fatal: The remote end hung up unexpectedly</p>
<p>  Everything up-to-date</p>
<p>  这样的话首先改一下git的传输字节限制</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config http.postBuffer 524288000</span><br></pre></td></tr></table></figure>

<p>  然后这时候在传输或许会出现另一个错误</p>
<p>  error: RPC failed; result=22, HTTP code = 413</p>
<p>  fatal: The remote end hung up unexpectedly</p>
<p>  fatal: The remote end hung up unexpectedly</p>
<p>  Everything up-to-date</p>
<p>  这两个错误看上去相似，一个是411，一个是413</p>
<p>  下面这个错误添加一下密钥就可以了</p>
<p>  首先key-keygen 生成密钥</p>
<p>  然后把生成的密钥复制到git中自己的账号下的相应位置</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push ssh:</span><br><span class="line">//192.168.64.250/eccp.git branch</span><br></pre></td></tr></table></figure></li>
</ul>
</article><br><br><span class="next-post"><a href="/2014/08/13/2014-08-13-xcode-plug-in-introduce/" itemprop="url">Older Post ⇒</a></span><span class="prev-post"><a href="/2014/10/17/2014-10-17-xcode_other_linker_flags_note/" itemprop="url">⇐ Next Post </a></span><br><br><br></main></body></html>