<!DOCTYPE html><html lang="en-us"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Grand Central Dispatch读书笔记 | 彩笔</title><meta name="description"><meta name="generator" content="彩笔"><meta name="author" content="Color Pen"><meta name="keywords"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1,user-scalable=0"><link rel="stylesheet" type="text/css" href="/styles/screen.css"><link rel="apple-touch-icon" sizes="57x57" href="/images/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/images/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/images/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/images/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/images/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/images/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png"><link rel="icon" type="image/png" sizes="128x128" href="/images/favicon-128.png"><link rel="icon" type="image/png" sizes="196x196" href="/images/favicon-196x196.png"><meta name="msapplication-TileColor" content="#FFFFFF"><meta name="msapplication-TileImage" content="mstile-144x144.png"><meta name="msapplication-square70x70logo" content="mstile-70x70.png"><meta name="msapplication-square150x150logo" content="mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="mstile-310x150.png"><meta name="msapplication-square310x310logo" content="mstile-310x310.png"></head><body itemscope itemtype="https://schema.org/WebPage"><header itemscope itemtype="https://schema.org/WPHeader"><div class="logo"></div><h1><a href="/" alt="彩笔" title="彩笔" itemprop="headline">彩笔</a></h1><p itemprop="description">眼中阅尽繁华，心中鲜衣怒马</p><nav itemscope itemtype="https://schema.org/SiteNavigationElement"><ul><li itemprop="name"><a href="/ " alt="home" title="home" itemprop="url">home</a></li><li itemprop="name"><a href="/articles" alt="articles" title="articles" itemprop="url">articles</a></li><li itemprop="name"><a href="/author" alt="author" title="author" itemprop="url">author</a></li></ul></nav><div class="space"></div></header><main itemscope itemtype="https://schema.org/Blog"><article class="full"><h1 itemprop="headline" class="post-heading">Grand Central Dispatch读书笔记</h1><span class="post-meta"></span><br><br><h4 id="1-GCD摘要"><a href="#1-GCD摘要" class="headerlink" title="1.GCD摘要"></a>1.GCD摘要</h4><p>什么是GCD？</p>
<p>GCD是英文Grand Central Dispatch 的缩写，直译过来就是”大  中枢  派发”。从名字就可以看得出来，GCD是需要从宏观的角度来处理多线程的。我们需要站在一个通览全局的角度上来控制队列、线程。我们只需要把想要执行的任务定义好，然后追加到适当的队列（Dispatch Queue）中，GCD就可以生成必要的线程执行任务，而不必我们亲自去管理线程，大大的方便了我们的开发。</p>
<p>GCD中使用block，使逻辑更加清晰，代码更加紧凑。大大增加了代码的可读性。</p>
<h4 id="2-GCD的API"><a href="#2-GCD的API" class="headerlink" title="2.GCD的API"></a>2.GCD的API</h4><p>Dispatch Queue</p>
<p>-开发者要做的只是定义想执行的任务并追加到适当的Dispatch Queue中。</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//转换成代码表示</span><br><span class="line">dispatch_async (queue, ^&#123;</span><br><span class="line">  //想执行的任务</span><br><span class="line">&#125;);	</span><br></pre></td></tr></table></figure>
<p> 这样就可以使指定的block在另一个线程执行。</p>
<p> Dispatch Queue 就是一个任务队列，也可以说是任务栈，遵循先进先出（FIFO）执行任务。</p>
<p>-Dispatch Queue有两种分类</p>
<p> 1）Serial Dispatch Queue —（连续派发队列）：等待现在执行中处理结束</p>
<p> ​            排队等候，按先后顺序处理，处理完前面的再处理后面的（如银行只有一个柜员）</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">#import &quot;ViewController.h&quot;</span><br><span class="line"></span><br><span class="line">typedef void(^block_t)();</span><br><span class="line"></span><br><span class="line">@interface ViewController ()</span><br><span class="line"></span><br><span class="line">@property (nonatomic , copy)block_t blk1;</span><br><span class="line">@property (nonatomic , copy)block_t blk2;</span><br><span class="line">@property (nonatomic , copy)block_t blk3;</span><br><span class="line">@property (nonatomic , copy)block_t blk4;</span><br><span class="line">@property (nonatomic , copy)block_t blk5;</span><br><span class="line">@property (nonatomic , copy)block_t blk6;</span><br><span class="line">@property (nonatomic , copy)block_t blk7;</span><br><span class="line">@property (nonatomic , copy)block_t blk8;</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation ViewController</span><br><span class="line"></span><br><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    self.blk1 = ^()&#123; NSLog(@&quot;blk_1&quot;); &#125;;</span><br><span class="line">    self.blk2 = ^()&#123; NSLog(@&quot;blk_2&quot;); &#125;;</span><br><span class="line">    self.blk3 = ^()&#123; NSLog(@&quot;blk_3&quot;); &#125;;</span><br><span class="line">    self.blk4 = ^()&#123; NSLog(@&quot;blk_4&quot;); &#125;;</span><br><span class="line">    self.blk5 = ^()&#123; NSLog(@&quot;blk_5&quot;); &#125;;</span><br><span class="line">    self.blk6 = ^()&#123; NSLog(@&quot;blk_6&quot;); &#125;;</span><br><span class="line">    self.blk7 = ^()&#123; NSLog(@&quot;blk_7&quot;); &#125;;</span><br><span class="line">    self.blk8 = ^()&#123; NSLog(@&quot;blk_8&quot;); &#125;;</span><br><span class="line"></span><br><span class="line">    dispatch_queue_t mySerialDispatchQueue = dispatch_queue_create(&quot;SerialQueue&quot;, DISPATCH_QUEUE_SERIAL);</span><br><span class="line">    dispatch_async(mySerialDispatchQueue, self.blk1);</span><br><span class="line">    dispatch_async(mySerialDispatchQueue, self.blk2);</span><br><span class="line">    dispatch_async(mySerialDispatchQueue, self.blk3);</span><br><span class="line">    dispatch_async(mySerialDispatchQueue, self.blk4);</span><br><span class="line">    dispatch_async(mySerialDispatchQueue, self.blk5);</span><br><span class="line">    dispatch_async(mySerialDispatchQueue, self.blk6);</span><br><span class="line">    dispatch_async(mySerialDispatchQueue, self.blk7);</span><br><span class="line">    dispatch_async(mySerialDispatchQueue, self.blk8);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)didReceiveMemoryWarning &#123;</span><br><span class="line">    [super didReceiveMemoryWarning];</span><br><span class="line">    // Dispose of any resources that can be recreated.</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<p> 输出结果：</p>
 <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">14</span>:<span class="number">04.452</span> GCD_Class[<span class="number">33394</span>:<span class="number">7455124</span>] blk_1</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">14</span>:<span class="number">04.453</span> GCD_Class[<span class="number">33394</span>:<span class="number">7455124</span>] blk_2</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">14</span>:<span class="number">04.453</span> GCD_Class[<span class="number">33394</span>:<span class="number">7455124</span>] blk_3</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">14</span>:<span class="number">04.453</span> GCD_Class[<span class="number">33394</span>:<span class="number">7455124</span>] blk_4</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">14</span>:<span class="number">04.453</span> GCD_Class[<span class="number">33394</span>:<span class="number">7455124</span>] blk_5</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">14</span>:<span class="number">04.453</span> GCD_Class[<span class="number">33394</span>:<span class="number">7455124</span>] blk_6</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">14</span>:<span class="number">04.453</span> GCD_Class[<span class="number">33394</span>:<span class="number">7455124</span>] blk_7</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">14</span>:<span class="number">04.453</span> GCD_Class[<span class="number">33394</span>:<span class="number">7455124</span>] blk_8</span><br></pre></td></tr></table></figure>
<p> 2）Concurrent Dispatch Queue — （并发派发队列）：不等待现在执行中处理结束</p>
<p> ​            （如银行有多个柜员）</p>
<p>   而当上文中Serial Dispatch Queue改为Concurrent Dispatch Queue后的结果：</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">dispatch_queue_t myConcurrentDispatchQueue = dispatch_queue_create(&quot;ConcurrentQueue&quot;, DISPATCH_QUEUE_CONCURRENT);</span><br><span class="line">dispatch_async(myConcurrentDispatchQueue, self.blk1);</span><br><span class="line">dispatch_async(myConcurrentDispatchQueue, self.blk2);</span><br><span class="line">dispatch_async(myConcurrentDispatchQueue, self.blk3);</span><br><span class="line">dispatch_async(myConcurrentDispatchQueue, self.blk4);</span><br><span class="line">dispatch_async(myConcurrentDispatchQueue, self.blk5);</span><br><span class="line">dispatch_async(myConcurrentDispatchQueue, self.blk6);</span><br><span class="line">dispatch_async(myConcurrentDispatchQueue, self.blk7);</span><br><span class="line">dispatch_async(myConcurrentDispatchQueue, self.blk8);</span><br></pre></td></tr></table></figure>
<p> 输出结果：</p>
 <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一次打印</span></span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">17</span>:<span class="number">54.364</span> GCD_Class[<span class="number">33454</span>:<span class="number">7479427</span>] blk_3</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">17</span>:<span class="number">54.364</span> GCD_Class[<span class="number">33454</span>:<span class="number">7479458</span>] blk_5</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">17</span>:<span class="number">54.364</span> GCD_Class[<span class="number">33454</span>:<span class="number">7479428</span>] blk_1</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">17</span>:<span class="number">54.364</span> GCD_Class[<span class="number">33454</span>:<span class="number">7479432</span>] blk_2</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">17</span>:<span class="number">54.364</span> GCD_Class[<span class="number">33454</span>:<span class="number">7479457</span>] blk_4</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">17</span>:<span class="number">54.365</span> GCD_Class[<span class="number">33454</span>:<span class="number">7479427</span>] blk_6</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">17</span>:<span class="number">54.365</span> GCD_Class[<span class="number">33454</span>:<span class="number">7479458</span>] blk_7</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">17</span>:<span class="number">54.365</span> GCD_Class[<span class="number">33454</span>:<span class="number">7479428</span>] blk_8</span><br><span class="line"></span><br><span class="line"><span class="comment">//第二次打印</span></span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">22</span>:<span class="number">46.778</span> GCD_Class[<span class="number">33505</span>:<span class="number">7501878</span>] blk_2</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">22</span>:<span class="number">46.778</span> GCD_Class[<span class="number">33505</span>:<span class="number">7501881</span>] blk_3</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">22</span>:<span class="number">46.778</span> GCD_Class[<span class="number">33505</span>:<span class="number">7501880</span>] blk_1</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">22</span>:<span class="number">46.778</span> GCD_Class[<span class="number">33505</span>:<span class="number">7501902</span>] blk_4</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">22</span>:<span class="number">46.779</span> GCD_Class[<span class="number">33505</span>:<span class="number">7501903</span>] blk_5</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">22</span>:<span class="number">46.779</span> GCD_Class[<span class="number">33505</span>:<span class="number">7501878</span>] blk_6</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">22</span>:<span class="number">46.779</span> GCD_Class[<span class="number">33505</span>:<span class="number">7501881</span>] blk_7</span><br><span class="line"><span class="number">2015</span><span class="number">-08</span><span class="number">-14</span> <span class="number">16</span>:<span class="number">22</span>:<span class="number">46.779</span> GCD_Class[<span class="number">33505</span>:<span class="number">7501880</span>] blk_8</span><br></pre></td></tr></table></figure>
<p> 可以看出来每次执行顺序都不同，所以Concurrent Dispatch Queue是并行执行多个任务，而Serial Dispatch Queue 是串行执行多个任务。然而，当生成多个Serial Dispatch Queue时，各个Serial Dispatch Queue是并行执行的。</p>
<p> 那么，什么时候使用Serial Dispatch Queue比较合适呢？</p>
<p> 为了避免多线程更新相同的资源导致数据竞争时，使用Serial Dispatch Queue比较合适。</p>
<h3 id="创建线程"><a href="#创建线程" class="headerlink" title="创建线程"></a>创建线程</h3><p> -通过GCD的API  （dispatch_queue_create）</p>
<p> 1）创建一个Serial Dispatch Queue</p>
 <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dispatch_queue_t</span> myConcurrentDispatchQueue = dispatch_queue_create(<span class="string">&quot;HXHSerialQueue&quot;</span>, <span class="literal">NULL</span>);</span><br></pre></td></tr></table></figure>
<p> 2）创建一个Concurrent Dispatch Queue</p>
 <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dispatch_queue_t</span> myConcurrentDispatchQueue = dispatch_queue_create(<span class="string">&quot;HXHConcurrentQueue&quot;</span>, DISPATCH_QUEUE_CONCURRENT);</span><br></pre></td></tr></table></figure>
<p> ​</p>
<p> -获取系统标准提供的Dispatch Queue （Main Dispatch Queue/Global Dispatch Queue）</p>
<p>  1）Main Dispatch Queue 是在主线程中执行的Dispatch Queue，因为主线程只有1个，所以是Serial Dispatch Queue。追加到Main Dispatch Queue在主线程的RunLoop中执行。</p>
<p>  2）Global Dispatch Queue是所有应用程序都能使用的Concurrent Dispatch Queue。有4个执行优先级  ： 高优先级（High Priority）、默认优先级（Default Priority）、低优先级（Low Priority）、后台优先级（Background Priority）</p>
<p> -各种Dispatch Queue的获取方法</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">   </span><br><span class="line">/**</span><br><span class="line"> *  Main Dispatch Queue 的获取方法</span><br><span class="line"> */</span><br><span class="line">dispatch_queue_t mainDispatchQueue = dispatch_get_main_queue();</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> *  Global Dispatch Queue （高优先级）的获取方法</span><br><span class="line"> */</span><br><span class="line">dispatch_queue_t globalDispatchQueueHigh = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0);</span><br><span class="line">/**</span><br><span class="line"> *  Global Dispatch Queue （默认优先级）的获取方法</span><br><span class="line"> */</span><br><span class="line">dispatch_queue_t globalDispatchQueueDefaule = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);</span><br><span class="line">/**</span><br><span class="line"> *  Global Dispatch Queue （低优先级）的获取方法</span><br><span class="line"> */</span><br><span class="line">dispatch_queue_t globalDispatchQueueLow = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_LOW, 0);</span><br><span class="line">/**</span><br><span class="line"> *  Global Dispatch Queue （后台优先级）的获取方法</span><br><span class="line"> */</span><br><span class="line">dispatch_queue_t globalDispatchQueueBackground = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_BACKGROUND, 0);</span><br></pre></td></tr></table></figure>
<p>  使用：</p>
  <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   *  在默认优先级的Global Dispatch Queue 中执行block</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="number">0</span>), ^&#123;</span><br><span class="line">      </span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">       *  可并行执行的处理</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      </span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">       *  在Main Dispatch Queue 中执行block</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">          <span class="comment">/**</span></span><br><span class="line"><span class="comment">           *  只能在主线程执行的处理</span></span><br><span class="line"><span class="comment">           */</span></span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<p>  ​</p>
<p>  ​</p>
<p> ​</p>
<p> ​</p>
</article><br><br><span class="next-post"><a href="/2014/10/17/2014-10-17-xcode_other_linker_flags_note/" itemprop="url">Older Post ⇒</a></span><span class="prev-post"><a href="/2014/12/05/2014-12-05-kinds-of-nil/" itemprop="url">⇐ Next Post </a></span><br><br><br></main></body></html>